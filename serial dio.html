<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Collected Serial Dios</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            color: #fff;
            padding: 20px;
            min-height: 100vh;
        }

        h1 {
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 40px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .collection-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .character-section {
            background: rgba(0,0,0,0.4);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.5);
            position: relative;
        }

        .character-header {
            margin-bottom: 20px;
        }

        .character-title {
            font-size: 2em;
            background: linear-gradient(135deg, #ffd700 0%, #332200 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: bold;
        }

        .numbers-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .number-badge {
            background: linear-gradient(135deg, #ffd700 0%, #8b7500 100%);
            color: #1a1a1a;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
            font-size: 1.1em;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            transition: transform 0.2s;
            display: flex;
            align-items: center;
            gap: 10px;
            position: relative;
            cursor: pointer;
        }

        .number-badge:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.4);
        }

        .number-input {
            background: transparent;
            border: none;
            color: #1a1a1a;
            font-weight: bold;
            font-size: 1.1em;
            width: 80px;
            text-align: center;
            outline: none;
        }

        .number-input:focus {
            background: rgba(255,255,255,0.2);
            border-radius: 5px;
            padding: 2px 5px;
        }

        .add-section {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .add-section.hidden {
            display: none;
        }

        .toggle-add-btn {
            padding: 6px 12px;
            background: rgba(255,215,0,0.2);
            color: #ffd700;
            border: 2px solid #ffd700;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.85em;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 10px;
            width: fit-content;
        }

        .toggle-add-btn:hover {
            background: rgba(255,215,0,0.3);
            transform: scale(1.02);
        }

        .add-input {
            flex: 1;
            padding: 12px 20px;
            border: 2px solid #ffd700;
            border-radius: 25px;
            background: rgba(255,255,255,0.1);
            color: #fff;
            font-size: 1em;
            outline: none;
        }

        .add-input::placeholder {
            color: rgba(255,255,255,0.5);
        }

        .add-button {
            padding: 12px 30px;
            background: linear-gradient(135deg, #ffd700 0%, #8b7500 100%);
            color: #1a1a1a;
            border: none;
            border-radius: 25px;
            font-weight: bold;
            font-size: 1em;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .add-button:hover {
            transform: scale(1.05);
        }

        .add-button:active {
            transform: scale(0.98);
        }

        .count-info {
            text-align: right;
            color: #ffd700;
            font-size: 1.1em;
            margin-top: 15px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Collected Serial Dios</h1>

    <div class="collection-container">
        <!-- Serial Dio Section -->
        <div class="character-section">
            <div class="character-header">
                <h2 class="character-title">Serial Dio</h2>
            </div>

            <div class="numbers-grid" id="serialDioNumbers"></div>

            <button class="toggle-add-btn" onclick="toggleAddSection('serialDio')">
                <span id="serialDioToggleIcon">üëÅÔ∏è</span> Toggle Add Section
            </button>

            <div class="count-info" id="serialDioCount"></div>

            <div class="add-section" id="serialDioAddSection">
                <input type="text" class="add-input" id="serialDioInput" placeholder="Add new serial number (e.g., 3600)">
                <button class="add-button" onclick="addSerialDio()">Add</button>
            </div>
        </div>

        <!-- Ainz Section -->
        <div class="character-section">
            <div class="character-header">
                <h2 class="character-title">Serial Ainz</h2>
            </div>

            <div class="numbers-grid" id="ainzNumbers"></div>

            <button class="toggle-add-btn" onclick="toggleAddSection('ainz')">
                <span id="ainzToggleIcon">üëÅÔ∏è</span> Toggle Add Section
            </button>

            <div class="count-info" id="ainzCount"></div>

            <div class="add-section" id="ainzAddSection">
                <input type="text" class="add-input" id="ainzInput" placeholder="Add new serial number (e.g., 25)">
                <button class="add-button" onclick="addAinz()">Add</button>
            </div>
        </div>
    </div>

    <script>
        // Initial data
        let serialDioData = [46, 97, 131, 299, 321, 429, 630, 909, 1160, 1747, 1980, 2162, 2298, 2409, 2477, 2605, 2622, 2646, 2819, 2862, 2961, 3282, 3283, 3310, 3397, 3411, 3452, 3475, 3548];
        let ainzData = [4, 9, 19];

        // Load saved data from memory or use defaults
        function loadData() {
            const savedSerialDio = window.collectionData?.serialDio;
            const savedAinz = window.collectionData?.ainz;

            if (savedSerialDio) {
                serialDioData = savedSerialDio;
            }
            if (savedAinz) {
                ainzData = savedAinz;
            }
        }

        // Save data to memory
        function saveData() {
            if (!window.collectionData) {
                window.collectionData = {};
            }
            window.collectionData.serialDio = [...serialDioData];
            window.collectionData.ainz = [...ainzData];
        }

        // Load data on startup
        loadData();

        // Set images from uploaded files
        const img1 = 'data:image/png;base64,'; // Placeholder - will use actual uploaded images
        const img2 = 'data:image/png;base64,'; // Placeholder - will use actual uploaded images

        function renderNumbers(data, containerId, countId, prefix) {
            const container = document.getElementById(containerId);
            const sortedData = [...data].sort((a, b) => a - b);

            container.innerHTML = '';
            sortedData.forEach((num, index) => {
                const badge = document.createElement('div');
                badge.className = 'number-badge';

                const input = document.createElement('input');
                input.type = 'text';
                input.className = 'number-input';
                input.value = `#${num}`;

                // Handle editing
                input.addEventListener('focus', function() {
                    this.value = num.toString();
                });

                input.addEventListener('blur', function() {
                    const newValue = parseInt(this.value);
                    if (!isNaN(newValue) && newValue > 0) {
                        if (prefix === 'serialDio') {
                            serialDioData[serialDioData.indexOf(num)] = newValue;
                            saveData();
                            renderNumbers(serialDioData, 'serialDioNumbers', 'serialDioCount', 'serialDio');
                        } else if (prefix === 'ainz') {
                            ainzData[ainzData.indexOf(num)] = newValue;
                            saveData();
                            renderNumbers(ainzData, 'ainzNumbers', 'ainzCount', 'ainz');
                        }
                    } else {
                        this.value = `#${num}`;
                    }
                });

                input.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        this.blur();
                    }
                });

                badge.appendChild(input);
                container.appendChild(badge);
            });

            document.getElementById(countId).textContent = `Total: ${sortedData.length} collected`;
        }

        function removeNumber(type, num) {
            if (type === 'serialDio') {
                const index = serialDioData.indexOf(num);
                if (index > -1) {
                    serialDioData.splice(index, 1);
                    saveData();
                    renderNumbers(serialDioData, 'serialDioNumbers', 'serialDioCount', 'serialDio');
                }
            } else if (type === 'ainz') {
                const index = ainzData.indexOf(num);
                if (index > -1) {
                    ainzData.splice(index, 1);
                    saveData();
                    renderNumbers(ainzData, 'ainzNumbers', 'ainzCount', 'ainz');
                }
            }
        }

        function removeNumber(type, num) {
            if (type === 'serialDio') {
                const index = serialDioData.indexOf(num);
                if (index > -1) {
                    serialDioData.splice(index, 1);
                    saveData();
                    renderNumbers(serialDioData, 'serialDioNumbers', 'serialDioCount', 'serialDio');
                }
            } else if (type === 'ainz') {
                const index = ainzData.indexOf(num);
                if (index > -1) {
                    ainzData.splice(index, 1);
                    saveData();
                    renderNumbers(ainzData, 'ainzNumbers', 'ainzCount', 'ainz');
                }
            }
        }

        function toggleAddSection(type) {
            const section = document.getElementById(type + 'AddSection');
            const icon = document.getElementById(type + 'ToggleIcon');

            if (section.classList.contains('hidden')) {
                section.classList.remove('hidden');
                icon.textContent = 'üëÅÔ∏è';
            } else {
                section.classList.add('hidden');
                icon.textContent = 'üëÅÔ∏è‚Äçüó®Ô∏è';
            }
        }

        function addSerialDio() {
            const input = document.getElementById('serialDioInput');
            const value = input.value.trim().replace('#', '');
            const num = parseInt(value);

            if (!isNaN(num) && num > 0 && !serialDioData.includes(num)) {
                serialDioData.push(num);
                saveData();
                renderNumbers(serialDioData, 'serialDioNumbers', 'serialDioCount', 'Serial Dio');
                input.value = '';
            } else if (serialDioData.includes(num)) {
                alert('This number is already in your collection!');
            } else {
                alert('Please enter a valid number');
            }
        }

        function addAinz() {
            const input = document.getElementById('ainzInput');
            const value = input.value.trim().replace('#', '');
            const num = parseInt(value);

            if (!isNaN(num) && num > 0 && !ainzData.includes(num)) {
                ainzData.push(num);
                saveData();
                renderNumbers(ainzData, 'ainzNumbers', 'ainzCount', 'Ainz');
                input.value = '';
            } else if (ainzData.includes(num)) {
                alert('This number is already in your collection!');
            } else {
                alert('Please enter a valid number');
            }
        }

        // Allow Enter key to add numbers
        document.getElementById('serialDioInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') addSerialDio();
        });

        document.getElementById('ainzInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') addAinz();
        });

        // Initial render
        renderNumbers(serialDioData, 'serialDioNumbers', 'serialDioCount', 'Serial Dio');
        renderNumbers(ainzData, 'ainzNumbers', 'ainzCount', 'Ainz');
    </script>
</body>
</html>
